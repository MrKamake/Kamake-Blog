---
title: '0819-0824'
date: 2019-8-24 10:08:10
category: 'TIL'
---

## 0819-0821

## React로 사고하기

지난 2주간 리액트를 습득하면서 나름의 서비스를 구현하면서

## Redux

리액트 작업하면서 상태가 많이 생기게 된다. 그 상태들을 관리해주는 패턴과 같은 것이다.
프로그래밍의 초반에는 MVC와 유사한 패턴을 많이 활용했다.

1. Model : 데이터 관리
2. View : 보여지는 관리
3. Controller : 모델과 뷰를 총괄하며 로직을 관리

어플리케이션의 구조가 증대하고 시대가 변하면서 빠르게 반응해야하는 개발환경으로 변화되면서 MVC의 한계가 있고 어울리지 않는 패턴이라고 느끼기 시작했다.

각각의 모듈들이 어떤 흐름으로 연결되는 지를 분석하고 이해하기가 힘들었다.
그래서 페이스북 프론트엔드 팀에서 문제점을 해결하려 했다. Flux 패턴을 발표.
Flux는 흐름이 예측가능하도록 강조한 패턴이었다. (흐름이 무조건 한쪽 방향으로만 흐른다.) = 흐름이 잔순 해졌다.
Action -> Dispatcher -> Store -> View
디스패텨는 교통정리관 같은 역할을 한다. 다양한 액션들이 동시다발적으로 일어날때
Store : 모델과 유사하게 데이터를 보관(단순한 형태)
데이터가 업데이트가 되면 View에 반영

##### 단방향 Flow

액션이 나열될 수 있다. 그 자체를 배열로 생각한다. 변형된 데이터를 누적값이라 생각. 기존데이터와 비교하면서 관리하면서 뷰로 보여준다.
중추적 관리해야하는 데이터가 있고 순차적으로 관리해야하는 데이터가 있기때문에 구분지어서 관리하도록

createStore : 스토어 생성
Provider : 리듀서 스테이트로 나오는 누적값을 컴포넌트로 자동으로 연결해주는 역할
(초기에 설정해주어야함)
rootReducer : 리듀스 함수(만들어서 활용)
combineReducers : 다양한 리듀서들을 통합해서 하나의 함수로 어디든지 작동하도록 관리한다.
액션이 발생할때 마다 스테이트를 사용한다. 초기 실행에서 초기값이 될수 있는 스테이트를 디폴값으로 지정해주면서 곧 누적값이 된다.
리듀서 함수는 퓨어펑션으로 구성되어야 한다.
연결해주는 초기 환경만 구축해주면 자동으로 이루어진다.

발생한 사건을 표현해서 보내줄텐데
어떻게?
액션에 대한 객체를 만들어주는 함수를 별개로 만들어준다. 이 함수는 액션에 대응하는 데이터를 관리해야한다.

액션타입(문자열을) 따로 상수로 관리

주문한 액션이 발생하면 대응해야한다. 보통 스위치문을 많이 쓴다. (액션을 구분할 수 있도록 미리 인자(객체)에 추가 )

리덕스를 쓸때는 커낵트를 시켜주는 기능은 컨테이너컴포넌트에 속하고 외의 것들은 일반 컴포넌트에 속한다ㅓ.

커낵트를 실행하면 컴포넌트를 반환하고 그것은 컨테이너다.

커낵트의 인자들은 리덕스세상의 내용을 컴포넌트로 넘겨주어야 하는데, raw하게 넘기는 것이 아니라 정리해서 알맞게 넘겨줘야한다. (prop을 정제하면서 걸러낸것을 전달하도록 한다.)

벨유가 컴포넌트로 전달 랜더가 될때마다 전달

### 컴포넌트와 컨테이너의 구분점

컨테이너 : 데이터를 불러오거나 상태를 업데이트 하는 로직 / 리덕스와 연결 / o 데이터 받는 방식은 리덕스로 부터 상태 업데이트 사항을 전달 받는다. / 수정하는 방식은 리덕스 액션을 디스패치하면서 수정한다.
커낵트 모듈을 통해 생성
(언제 어떻게? 본인(컴포넌트)이 쓰지 않는 props를 하위로 전달만 하게 된다면 커낵트를 쓰면된다.)

컴포넌트 : 바보멍충이. 보여지는 화면과 연관 / 리덕스와 연결 x / 상위 컴포넌트로 부터 props를 받는다. / 상위 컴포넌트로부터 전달받은 props 콜백함수를 통해 수정한다.
직접 작성

##### 과제

- setup 먼저 보고 셋팅
- 비동기 액션 확인
- 스토어를 구성할때 정규화를 해야한다.
- 앱이라는 최상단의 컨테이너 컴포넌트를 루트로 리덕스와 연결시키고 하위컴포넌트를 연결시켜서 동작하도록 작성 (의미 없는 prop전달만 일어난다면 추가적인 컨테이너를 꽂아넣기.)

## 0822

## ref에 대하여..

#### 사용법

component의 constructor내부에 `createRef()`를 사용해서 먼저 셋팅해준다.

```js
constructor() {
	this.iWannaRef = React.createRef();
}
```

원하는 JSX 태그에 인라인으로 추가적으로 설정해준다.

```react
<div className='itNeedRef' ref={this.iWannaRef}></div>
```

#### 주의

돔을 직접적으로 컨택하면서 위험성이 높아서 자주 사용하는 것은 좋지 않다.

## 0823-0824

## Firebase

database 는 json 파일 저장
storage 는

<script>에 직접 입력하는 것 보단 npm 으로 설치하는 것이 낫다.

test mode로 진행

서버를 담당하는 컴퓨터 장소를 아시아2로 설정
